(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0deaba"],{8749:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("estado-popup",{attrs:{dialog:t.create_popup_visible},on:{close:function(e){t.create_popup_visible=!1},reload:function(e){return t.getEstados(t.uri)}}}),a("v-container",[a("v-row",{staticClass:"align-center",attrs:{"no-gutters":""}},[a("v-col",[a("span",{staticClass:"title"},[t._v("Estados ("+t._s(t.estados.length)+")")])]),a("v-col",[a("v-text-field",{staticStyle:{width:"350px"},attrs:{flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Procurar"},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.queryString=e.target.value}}})],1),a("v-col",{staticClass:"text-end"},[a("span",[a("v-btn",{attrs:{text:""},on:{click:function(e){t.create_popup_visible=!0}}},[t._v("Adicionar")]),a("order-by-menu",{attrs:{items:t.orderByOptions},on:{"order-by":t.setOrderBy}})],1)])],1)],1),a("v-divider"),a("v-container",t._l(t.estados,(function(e){return a("v-row",{key:e._id,attrs:{dense:""}},[a("v-col",[a("EstadoCard",{attrs:{estado:e},on:{reload:function(e){return t.getEstados("/estado")}}})],1)],1)})),1)],1)},r=[],s=(a("99af"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("estado-popup",{attrs:{estado:t.estado,dialog:t.estado_popup_visible},on:{close:function(e){t.estado_popup_visible=!1},reload:function(e){return t.$emit("reload")}}}),a("v-card",{staticClass:"pa-3",attrs:{width:"100%"}},[a("v-row",{staticClass:"overline grey--text",attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"1"}},[t._v("Sigla")]),a("v-col",{attrs:{cols:"3"}},[t._v("Nome")]),a("v-col",{attrs:{cols:"2"}},[t._v("Criado")]),a("v-col",{attrs:{cols:"2"}},[t._v("Atualizado")])],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"1"}},[t._v(t._s(t.estado.code))]),a("v-col",{attrs:{cols:"3"}},[t._v(t._s(t.estado.name))]),a("v-col",{attrs:{cols:"2"}},[t._v(t._s(t.estado.created_at))]),a("v-col",{attrs:{cols:"2"}},[t._v(t._s(t.estado.updated_at))]),a("v-col",{staticClass:"text-end",attrs:{cols:"3"}},[a("v-btn",{attrs:{icon:""},on:{click:function(e){t.estado_popup_visible=!0}}},[a("v-icon",[t._v("mdi-circle-edit-outline")])],1),a("v-btn",{attrs:{icon:""},on:{click:t.destroy}},[a("v-icon",[t._v("mdi-delete")])],1)],1)],1)],1)],1)}),n=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-dialog",{attrs:{persistent:"",width:"350"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[a("v-toolbar-title",[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.$emit("close")}}},[a("v-icon",[t._v("mdi-close")])],1),t.estado._id?a("span",[t._v("Editar")]):a("span",[t._v("Adicionar estado")]),a("v-btn",{attrs:{outlined:"",text:"",disabled:!t.form_validate},on:{click:t.salvar}},[t._v("Salvar")])],1)],1),a("v-card-text",[a("v-form",{ref:"form",model:{value:t.form_validate,callback:function(e){t.form_validate=e},expression:"form_validate"}},[a("v-text-field",{ref:"code",attrs:{rules:[t.rules.required,t.rules.counter],label:"Sigla"},model:{value:t.estado.code,callback:function(e){t.$set(t.estado,"code",e)},expression:"estado.code"}}),a("v-text-field",{ref:"name",attrs:{rules:[t.rules.required,t.rules.counterName],label:"Nome"},model:{value:t.estado.name,callback:function(e){t.$set(t.estado,"name",e)},expression:"estado.name"}})],1)],1)],1)],1)],1)},d=[],c=(a("b0c0"),{props:{dialog:{type:Boolean,default:!1},estado:{type:Object,default:function(){return{code:"",name:""}}}},data:function(){return{form_validate:!1,rules:{required:function(t){return!!t||"Campo obrigatÃ³rio."},counter:function(t){return t.length>=2||"Min 2 caracteres"},counterCode:function(t){return t.length>=2||"Min 2 caracteres"},counterName:function(t){return t.length>=4||"Min 4 caracteres"}}}},computed:{form:function(){return{name:this.estado.name,code:this.estado.code}}},methods:{salvar:function(){null!=this.estado._id?this.update():this.create()},create:function(){var t=this;t.$http.post("/estado",t.estado).then((function(e){t.$emit("reload"),t.$emit("close"),alert("Salvo com sucesso: "+e.data.message)}),(function(t){console.log(t),alert("Algo deu errado: "+t.response.data.message)}))},update:function(){var t=this;t.$http.put("/estado/".concat(t.estado._id),t.estado).then((function(e){t.$emit("reload"),t.$emit("close"),alert("Salvo com sucesso: "+e.data.message)}),(function(t){alert("Algo deu errado: "+t.response.data.message)}))}},mounted:function(){}}),l=c,u=a("2877"),v=a("6544"),p=a.n(v),f=a("8336"),m=a("b0af"),_=a("99d9"),g=a("169a"),h=a("4bd4"),b=a("132d"),y=a("8654"),$=a("71d9"),x=a("2a7f"),C=Object(u["a"])(l,i,d,!1,null,null,null),V=C.exports;p()(C,{VBtn:f["a"],VCard:m["a"],VCardText:_["a"],VDialog:g["a"],VForm:h["a"],VIcon:b["a"],VTextField:y["a"],VToolbar:$["a"],VToolbarTitle:x["a"]});var k={name:"EstadoCard",components:{EstadoPopup:V},props:{estado:{type:Object}},data:function(){return{estado_popup_visible:!1}},methods:{destroy:function(){var t=this;t.$http.delete("/estado/".concat(t.estado._id)).then((function(e){alert("Deletada com sucesso: "+e.data.message),t.$emit("reload")})).catch((function(t){alert("Algo deu errado: "+t.data.message)}))},edit:function(){this.estado_popup_visible=!0},edit_commit:function(t){var e=this;e.$http.put("/estado/".concat(t._id),t).then((function(t){alert("Altarado com sucesso: "+t.data.message),e.$emit("reload")})).catch((function(t){alert("Algo deu errado: "+t.data.message)}))}}},E=k,w=a("62ad"),B=a("0fd9"),S=Object(u["a"])(E,s,n,!1,null,null,null),A=S.exports;p()(S,{VBtn:f["a"],VCard:m["a"],VCol:w["a"],VIcon:b["a"],VRow:B["a"]});var O=a("3bc5"),q={name:"ListaEstados",components:{EstadoCard:A,EstadoPopup:V,OrderByMenu:O["a"]},data:function(){return{create_popup_visible:!1,estados:[],orderByOptions:[{title:"Nome",value:"name"},{title:"Sigla",value:"code"},{title:"Criado",value:"created_at"},{title:"Atualizado",value:"updated_at"}],orderBy:{field:"name",direction:"ASC"},queryString:""}},computed:{uri:function(){var t="/estado?order_by=".concat(this.orderBy.field,"&order_dir=").concat(this.orderBy.direction);return""!=this.queryString&&(t+="&search=".concat(this.queryString)),t}},methods:{getEstados:function(t){var e=this;e.$root.$emit("loading"),e.$http.get(t).then((function(t){e.estados=t.data,e.$root.$emit("loading")})).catch((function(t){e.$root.$emit("loading"),alert("Algo deu errado: "+t.data.message)}))},setOrderBy:function(t){this.orderBy=t},create:function(){}},watch:{uri:function(){var t=this;return t.getEstados(t.uri),t.estados}},mounted:function(){this.getEstados(this.uri)}},T=q,j=a("a523"),N=a("ce7e"),M=Object(u["a"])(T,o,r,!1,null,null,null);e["default"]=M.exports;p()(M,{VBtn:f["a"],VCol:w["a"],VContainer:j["a"],VDivider:N["a"],VRow:B["a"],VTextField:y["a"]})}}]);
//# sourceMappingURL=chunk-2d0deaba.c290051e.js.map